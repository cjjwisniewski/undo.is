import{a0 as Q,L as z,a1 as X,a2 as W,p as Z,a3 as C,a4 as R,k as u,h as p,c as y,a5 as M,f as ee,z as te,F as se,a6 as H,w as c,e as G,a7 as S,v as F,x as re,a8 as L,a9 as ie,aa as V,ab as ne,ac as ae,a as j,s as B,ad as P,ae as he,b as fe,n as J,af as oe,t as O,j as w,ag as de,G as _e,ah as E,A as le,E as ce,ai as ue,aj as pe,ak as k,l as ge,C as U,D as ve,g as ye,al as x,i as b,am as me,an as Ee,ao as be,ap as Te,O as Re,aq as we,ar as Ae,R as De}from"./C51KXp3h.js";import{a as Ne,r as $,h as q}from"./B15kNpNy.js";import{b as Se}from"./DIdYphix.js";function Fe(r){let e=0,t=W(0),i;return()=>{Q()&&(z(t),X(()=>(e===0&&(i=Z(()=>r(()=>C(t)))),e+=1,()=>{R(()=>{e-=1,e===0&&(i?.(),i=void 0,C(t))})})))}}var Oe=le|ce;function ke(r,e,t,i){new xe(r,e,t,i)}class xe{parent;is_pending=!1;transform_error;#t;#g=p?u:null;#i;#o;#e;#n=null;#s=null;#r=null;#a=null;#d=0;#f=0;#_=!1;#l=new Set;#c=new Set;#h=null;#m=Fe(()=>(this.#h=W(this.#d),()=>{this.#h=null}));constructor(e,t,i,f){this.#t=e,this.#i=t,this.#o=s=>{var n=y;n.b=this,n.f|=M,i(s)},this.parent=y.b,this.transform_error=f??this.parent?.transform_error??(s=>s),this.#e=ee(()=>{if(p){const s=this.#g;te();const n=s.data===se;if(s.data.startsWith(H)){const a=JSON.parse(s.data.slice(H.length));this.#b(a)}else n?this.#T():this.#E()}else this.#v()},Oe),p&&(this.#t=u)}#E(){try{this.#n=c(()=>this.#o(this.#t))}catch(e){this.error(e)}}#b(e){const t=this.#i.failed;t&&(this.#r=c(()=>{t(this.#t,()=>e,()=>()=>{})}))}#T(){const e=this.#i.pending;e&&(this.is_pending=!0,this.#s=c(()=>e(this.#t)),R(()=>{var t=this.#a=document.createDocumentFragment(),i=G();t.append(i),this.#n=this.#p(()=>(S.ensure(),c(()=>this.#o(i)))),this.#f===0&&(this.#t.before(t),this.#a=null,F(this.#s,()=>{this.#s=null}),this.#u())}))}#v(){try{if(this.is_pending=this.has_pending_snippet(),this.#f=0,this.#d=0,this.#n=c(()=>{this.#o(this.#t)}),this.#f>0){var e=this.#a=document.createDocumentFragment();re(this.#n,e);const t=this.#i.pending;this.#s=c(()=>t(this.#t))}else this.#u()}catch(t){this.error(t)}}#u(){this.is_pending=!1;for(const e of this.#l)L(e,ie),V(e);for(const e of this.#c)L(e,ne),V(e);this.#l.clear(),this.#c.clear()}defer_effect(e){ae(e,this.#l,this.#c)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#i.pending}#p(e){var t=y,i=fe,f=J;j(this.#e),B(this.#e),P(this.#e.ctx);try{return e()}catch(s){return he(s),null}finally{j(t),B(i),P(f)}}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}this.#f+=e,this.#f===0&&(this.#u(),this.#s&&F(this.#s,()=>{this.#s=null}),this.#a&&(this.#t.before(this.#a),this.#a=null))}update_pending_count(e){this.#y(e),this.#d+=e,!(!this.#h||this.#_)&&(this.#_=!0,R(()=>{this.#_=!1,this.#h&&oe(this.#h,this.#d)}))}get_effect_pending(){return this.#m(),z(this.#h)}error(e){var t=this.#i.onerror;let i=this.#i.failed;if(!t&&!i)throw e;this.#n&&(O(this.#n),this.#n=null),this.#s&&(O(this.#s),this.#s=null),this.#r&&(O(this.#r),this.#r=null),p&&(w(this.#g),de(),w(_e()));var f=!1,s=!1;const n=()=>{if(f){pe();return}f=!0,s&&ue(),this.#r!==null&&F(this.#r,()=>{this.#r=null}),this.#p(()=>{S.ensure(),this.#v()})},l=a=>{try{s=!0,t?.(a,n),s=!1}catch(h){E(h,this.#e&&this.#e.parent)}i&&(this.#r=this.#p(()=>{S.ensure();try{return c(()=>{var h=y;h.b=this,h.f|=M,i(this.#t,()=>a,()=>n)})}catch(h){return E(h,this.#e.parent),null}}))};R(()=>{var a;try{a=this.transform_error(e)}catch(h){E(h,this.#e&&this.#e.parent);return}a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(l,h=>E(h,this.#e&&this.#e.parent)):l(a)})}}const Ie=["touchstart","touchmove"];function Ye(r){return Ie.includes(r)}function Ve(r,e){var t=e==null?"":typeof e=="object"?`${e}`:e;t!==(r.__t??=r.nodeValue)&&(r.__t=t,r.nodeValue=`${t}`)}function Ce(r,e){return K(r,e)}function je(r,e){k(),e.intro=e.intro??!1;const t=e.target,i=p,f=u;try{for(var s=ge(t);s&&(s.nodeType!==U||s.data!==ve);)s=ye(s);if(!s)throw x;b(!0),w(s);const n=K(r,{...e,anchor:s});return b(!1),n}catch(n){if(n instanceof Error&&n.message.split(`
`).some(l=>l.startsWith("https://svelte.dev/e/")))throw n;return n!==x&&console.warn("Failed to hydrate: ",n),e.recover===!1&&me(),k(),Ee(t),b(!1),Ce(r,e)}finally{b(i),w(f)}}const T=new Map;function K(r,{target:e,anchor:t,props:i={},events:f,context:s,intro:n=!0,transformError:l}){k();var a=void 0,h=be(()=>{var m=t??e.appendChild(G());ke(m,{pending:()=>{}},o=>{Re({});var d=J;if(s&&(d.c=s),f&&(i.$$events=f),p&&Se(o,null),a=r(o,i)||{},p&&(y.nodes.end=u,u===null||u.nodeType!==U||u.data!==we))throw Ae(),x;De()},l);var A=new Set,D=o=>{for(var d=0;d<o.length;d++){var _=o[d];if(!A.has(_)){A.add(_);var v=Ye(_);for(const N of[e,document]){var g=T.get(N);g===void 0&&(g=new Map,T.set(N,g));var Y=g.get(_);Y===void 0?(N.addEventListener(_,q,{passive:v}),g.set(_,1)):g.set(_,Y+1)}}}};return D(Te(Ne)),$.add(D),()=>{for(var o of A)for(const v of[e,document]){var d=T.get(v),_=d.get(o);--_==0?(v.removeEventListener(o,q),d.delete(o),d.size===0&&T.delete(v)):d.set(o,_)}$.delete(D),m!==t&&m.parentNode?.removeChild(m)}});return I.set(a,h),a}let I=new WeakMap;function Be(r,e){const t=I.get(r);return t?(I.delete(r),t(e)):Promise.resolve()}export{je as h,Ce as m,Ve as s,Be as u};
